{"version":3,"file":"static/js/611.f70b21e0.chunk.js","mappings":"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","sources":["webpack://react-kamasutra/./src/Components/Profile/MyPosts/MyPosts.module.css?bd90","webpack://react-kamasutra/./src/Components/Profile/MyPosts/Post/Post.module.css?54ab","Components/Profile/MyPosts/Post/Post.jsx","utils/validators/AddNewPostFormSchema.js","webpack://react-kamasutra/./src/Components/Profile/MyPosts/PostForm/AddNewPostForm.module.css?9555","Components/Profile/MyPosts/PostForm/AddNewPostForm.jsx","Components/Profile/MyPosts/MyPosts.jsx","Components/Profile/MyPosts/MyPostsContainer.jsx","Components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","Components/Profile/ProfileInfo/ProfileInfo.jsx","Components/Profile/Profile.jsx","Components/Profile/ProfileContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__YubiQ\",\"posts\":\"MyPosts_posts__eAguS\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__yxPgZ\"};","import React from 'react'\r\nimport s from './Post.module.css'\r\n\r\nexport default function Post(props) {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src='https://cdn-icons-png.flaticon.com/512/147/147144.png' alt='img'/>\r\n            {props.message}\r\n            <div>\r\n                <span>like</span> {props.likesCount}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import * as Yup from \"yup\";\r\n\r\nconst addNewPostFormSchema = Yup.object().shape({\r\n    newPostText: Yup.string()\r\n        .max(10, \"Nice try, nobody has a first name that long\")\r\n        .required(\"Required\")\r\n});\r\nexport default addNewPostFormSchema;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"field\":\"AddNewPostForm_field__tApY1\",\"errorMes\":\"AddNewPostForm_errorMes__WC63d\"};","import React from \"react\";\r\nimport addNewPostFormSchema from '../../../../utils/validators/AddNewPostFormSchema';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport s from './AddNewPostForm.module.css';\r\n\r\n\r\n\r\nconst AddNewPostForm = (props) => {\r\n    return (<div>\r\n\r\n        <Formik initialValues={{\r\n            newPostText: ''\r\n        }\r\n        }\r\n            onSubmit={(values) => {\r\n                props.addPost(values.newPostText)\r\n            }}\r\n            validationSchema={addNewPostFormSchema}\r\n        >\r\n            {({ handleSubmit, errors, touched }) => (\r\n                <Form onSubmit={handleSubmit}>\r\n                    <div>\r\n                        <Field as='textarea' name={'newPostText'} placeholder='Enter your post'\r\n                            className={errors.newPostText && touched.newPostText ? `${s.field}` : ''} />\r\n                    </div>\r\n                    <ErrorMessage name=\"newPostText\" component=\"div\" className={s.errorMes}/>\r\n                    <button type={'submit'}>add post</button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n\r\n    </div>)\r\n}\r\n\r\nexport default AddNewPostForm;","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport AddNewPostForm from './PostForm/AddNewPostForm';\r\n\r\nconst MyPosts = React.memo(props => {\r\n        let postsElement = [...props.posts]\r\n        .reverse()\r\n        .map(p => <Post message={p.message} likesCount={p.likesCount} />);\r\n        return (\r\n            <div className={s.postsBlock}>\r\n                <h2>my posts</h2>\r\n\r\n                <AddNewPostForm addPost={props.addPost} />\r\n\r\n                <div className={s.posts}>\r\n                    {postsElement}\r\n                </div>\r\n            </div>\r\n        )\r\n})\r\n\r\nexport default MyPosts;","import { connect } from 'react-redux';\r\nimport { addPostActionCreator } from '../../../redux/profile-reducer';\r\nimport MyPosts from './MyPosts';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText))\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React, { useEffect, useState } from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n    const [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            { !editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activateEditMode}>{props.status || 'no status'}</span>\r\n                </div>\r\n            }\r\n\r\n            {editMode &&\r\n                <div>\r\n                    <input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} value={status}/>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nfunction ProfileInfo({profile, status, updateStatus}) {\r\n    if (!profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {/* <div>\r\n                <img src='https://img.freepik.com/free-vector/vibrant-background-with-diagonal-lines-effect-design_1017-28226.jpg?w=996&t=st=1672660654~exp=1672661254~hmac=55cbc4ce2d93ba8fc3ff82adbe3fdde319ab7760d89dca9bcd138f0f06b2fa83' alt='img'/>\r\n            </div> */}\r\n            <img src={profile.photos.large} alt='ava'/>\r\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nfunction Profile(props) {\r\n  return (\r\n    <div>\r\n      <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n      <MyPostsContainer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Profile from \"./Profile\";\r\nimport { getUserProfile, getStatus, updateStatus } from \"../../redux/profile-reducer\";\r\nimport {\r\n    useLocation,\r\n    useNavigate,\r\n    useParams,\r\n} from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\n\r\nfunction withRouter(Component) {\r\n    function ComponentWithRouterProp(props) {\r\n        let location = useLocation();\r\n        let navigate = useNavigate();\r\n        let params = useParams();\r\n        return (\r\n            <Component\r\n                {...props}\r\n                router={{ location, navigate, params }}\r\n            />\r\n        );\r\n    }\r\n    return ComponentWithRouterProp;\r\n}\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.router.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.router.navigate('/login');\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { getUserProfile, getStatus, updateStatus }),\r\n    withRouter\r\n)(ProfileContainer);"],"names":["Post","props","className","s","src","alt","message","likesCount","Yup","shape","newPostText","max","required","initialValues","onSubmit","values","addPost","validationSchema","addNewPostFormSchema","handleSubmit","errors","touched","as","name","placeholder","component","type","React","postsElement","posts","reverse","map","p","connect","state","profilePage","dispatch","addPostActionCreator","MyPosts","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","onBlur","updateStatus","autoFocus","profile","photos","large","Preloader","ProfileContainer","userId","this","router","params","authorizedUserId","navigate","getUserProfile","getStatus","compose","auth","isAuth","Component","location","useLocation","useNavigate","useParams"],"sourceRoot":""}